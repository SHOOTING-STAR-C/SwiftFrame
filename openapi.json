{"openapi":"3.1.0","info":{"title":"SwiftFrame API 接口文档","description":"基于 Spring Boot 3 + SpringDoc 的后端架构接口文档<br/><br/>### 响应状态码说明\n| 状态码 | 描述 |\n| :--- | :--- |\n| PUB-200-00 | 操作成功 |\n| PUB-500-00 | 服务器内部错误 |\n| PUB-503-00 | 服务不可用 |\n| PUB-500-01 | 数据库操作异常 |\n| PUB-500-02 | 加解密异常 |\n| PUB-505-00 | 网络通信异常 |\n| PUB-404-00 | 资源不存在 |\n| BUS-400-00 | 请求参数错误 |\n| BUS-401-00 | 未授权访问 |\n| BUS-403-00 | 禁止访问 |\n| BUS-404-00 | 资源不存在 |\n| BUS-405-00 | 请求方法不允许 |\n| BUS-405-00 | 业务不允许 |\n","contact":{"name":"star","email":"star@example.com"},"license":{"name":"Apache 2.0","url":"https://springdoc.org"},"version":"v1.0"},"servers":[{"url":"http://localhost:8081/swift","description":"Generated server url"}],"security":[{"JWT":[]}],"tags":[{"name":"角色管理","description":"系统角色相关接口"},{"name":"鉴权管理","description":"登录和注册接口"},{"name":"系统监控","description":"系统监控数据接口"}],"paths":{"/roles/{roleId}":{"get":{"tags":["角色管理"],"summary":"获取角色详情","description":"根据ID获取角色的详细信息","operationId":"getRoleById","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftRole"}}}}}},"put":{"tags":["角色管理"],"summary":"更新角色","description":"更新指定角色的信息","operationId":"updateRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftRole"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftRole"}}}}}},"delete":{"tags":["角色管理"],"summary":"删除角色","description":"删除指定的角色（不能删除已分配用户的角色）","operationId":"deleteRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/roles":{"get":{"tags":["角色管理"],"summary":"获取所有角色","description":"获取系统中所有的角色列表","operationId":"getAllRoles","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSwiftRole"}}}}}},"post":{"tags":["角色管理"],"summary":"创建角色","description":"创建新的系统角色","operationId":"createRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftRole"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftRole"}}}}}}},"/roles/{roleId}/authorities/{authorityId}":{"post":{"tags":["角色管理"],"summary":"授予权限","description":"将指定权限授予给角色","operationId":"grantAuthorityToRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}},"delete":{"tags":["角色管理"],"summary":"收回权限","description":"从角色中收回指定的权限","operationId":"revokeAuthorityFromRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}},{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/auth/register":{"post":{"tags":["鉴权管理"],"summary":"用户注册","description":"注册新用户","operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftUserDetails"}}}}}}},"/auth/login":{"post":{"tags":["鉴权管理"],"summary":"用户登录","description":"通过用户名和密码获取 JWT Token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultJwtToken"}}}}}}},"/roles/{roleId}/users":{"get":{"tags":["角色管理"],"summary":"获取角色用户","description":"获取拥有指定角色的所有用户","operationId":"getUsersWithRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSetSwiftUserDetails"}}}}}}},"/roles/{roleId}/authorities":{"get":{"tags":["角色管理"],"summary":"获取角色权限","description":"获取指定角色拥有的所有权限","operationId":"getRoleAuthorities","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"string","format":"uuid"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSetSwiftAuthority"}}}}}}},"/monitor/thread":{"get":{"tags":["系统监控"],"summary":"线程信息","description":"获取线程相关信息","operationId":"getThreadDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/runtime":{"get":{"tags":["系统监控"],"summary":"运行时信息","description":"获取应用运行时信息","operationId":"getRuntimeDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/overview":{"get":{"tags":["系统监控"],"summary":"系统概览","description":"获取系统整体概览信息","operationId":"getSystemOverview","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/os":{"get":{"tags":["系统监控"],"summary":"操作系统信息","description":"获取操作系统详细信息","operationId":"getOsDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/memory":{"get":{"tags":["系统监控"],"summary":"内存详情","description":"获取系统内存使用详情","operationId":"getMemoryDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/jvm":{"get":{"tags":["系统监控"],"summary":"JVM详情","description":"获取JVM运行时详细信息","operationId":"getJvmDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/all":{"get":{"tags":["系统监控"],"summary":"全部监控数据","description":"获取所有监控数据的聚合接口","operationId":"getAllMonitorData","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/auth/publicKey":{"get":{"tags":["鉴权管理"],"summary":"获取RSA公钥","description":"获取用于前端加密密码的RSA公钥","operationId":"getPublicKey","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}}}},"components":{"schemas":{"PubResultObject":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"SwiftAuthority":{"type":"object","properties":{"authorityId":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"}}},"SwiftRole":{"type":"object","properties":{"roleId":{"type":"string","format":"uuid"},"name":{"type":"string"},"description":{"type":"string"},"userRoles":{"type":"array","items":{"$ref":"#/components/schemas/SwiftUserRole"},"uniqueItems":true},"roleAuthorities":{"type":"array","items":{"$ref":"#/components/schemas/SwiftRoleAuthority"},"uniqueItems":true}}},"SwiftRoleAuthority":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/SwiftRoleAuthorityId"},"role":{"$ref":"#/components/schemas/SwiftRole"},"authority":{"$ref":"#/components/schemas/SwiftAuthority"},"grantedAt":{"type":"string","format":"date-time"}}},"SwiftRoleAuthorityId":{"type":"object","properties":{"roleId":{"type":"string","format":"uuid"},"authorityId":{"type":"string","format":"uuid"}}},"SwiftUserDetails":{"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"username":{"type":"string","maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$"},"fullName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string","pattern":"^1[3-9]\\d{9}$"},"enabled":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"failedLoginAttempts":{"type":"integer","format":"int32"},"lockUntil":{"type":"string","format":"date-time"},"passwordChangedAt":{"type":"string","format":"date-time"},"lastLoginAt":{"type":"string","format":"date-time"},"lastLoginIp":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}}},"required":["email","username"]},"SwiftUserRole":{"type":"object","properties":{"userId":{"$ref":"#/components/schemas/SwiftUserRoleId"},"user":{"$ref":"#/components/schemas/SwiftUserDetails"},"role":{"$ref":"#/components/schemas/SwiftRole"},"assignedAt":{"type":"string","format":"date-time"},"assignedBy":{"type":"string"}}},"SwiftUserRoleId":{"type":"object","properties":{"userId":{"type":"string","format":"uuid"},"roleId":{"type":"string","format":"uuid"}}},"PubResultSwiftRole":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SwiftRole"}}},"PubResultVoid":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"object"}}},"RegisterRequest":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$"},"password":{"type":"string","maxLength":30,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]+$"},"email":{"type":"string"},"phone":{"type":"string","pattern":"^1[3-9]\\d{9}$"}},"required":["email","password","username"]},"PubResultSwiftUserDetails":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SwiftUserDetails"}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$"},"password":{"type":"string","maxLength":30,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]+$"}},"required":["password","username"]},"JwtToken":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"PubResultJwtToken":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/JwtToken"}}},"PubResultListSwiftRole":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftRole"}}}},"PubResultSetSwiftUserDetails":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftUserDetails"},"uniqueItems":true}}},"PubResultSetSwiftAuthority":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftAuthority"},"uniqueItems":true}}},"PubResultMapStringObject":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"object","additionalProperties":{}}}},"PubResultString":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"string"}}}},"securitySchemes":{"JWT":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}