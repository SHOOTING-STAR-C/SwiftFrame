{"openapi":"3.1.0","info":{"title":"SwiftFrame API 接口文档","description":"基于 Spring Boot 3 + SpringDoc 的后端架构接口文档<br/><br/>### 响应状态码说明\n| 状态码 | 描述 |\n| :--- | :--- |\n| PUB-200-00 | 操作成功 |\n| PUB-500-00 | 服务器内部错误 |\n| PUB-503-00 | 服务不可用 |\n| PUB-500-01 | 数据库操作异常 |\n| PUB-500-02 | 加解密异常 |\n| PUB-505-00 | 网络通信异常 |\n| PUB-404-00 | 资源不存在 |\n| BUS-400-00 | 请求参数错误 |\n| BUS-401-00 | 未授权访问 |\n| BUS-403-00 | 禁止访问 |\n| BUS-404-00 | 资源不存在 |\n| BUS-405-00 | 请求方法不允许 |\n| BUS-405-00 | 业务不允许 |\n","contact":{"name":"star","email":"star@example.com"},"license":{"name":"Apache 2.0","url":"https://springdoc.org"},"version":"v1.0"},"servers":[{"url":"http://localhost:8081/swift","description":"Generated server url"}],"security":[{"JWT":[]}],"tags":[{"name":"角色管理","description":"系统角色相关接口"},{"name":"鉴权管理","description":"登录和注册接口"},{"name":"AI-聊天","description":"AI 聊天相关接口"},{"name":"AI-模型","description":"AI 模型相关接口"},{"name":"AI-会话","description":"AI 聊天会话相关接口"},{"name":"用户管理","description":"系统用户相关接口"},{"name":"AI-供应商","description":"AI 供应商相关接口"},{"name":"系统监控","description":"系统监控数据接口"},{"name":"AI-消息","description":"AI 聊天消息相关接口"},{"name":"系统配置管理","description":"系统配置的增删改查接口"},{"name":"权限管理","description":"系统权限相关接口"}],"paths":{"/user/{userId}":{"get":{"tags":["用户管理"],"summary":"获取用户详情","description":"根据ID获取用户的详细信息","operationId":"getUserById","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftUserDetails"}}}}}},"put":{"tags":["用户管理"],"summary":"更新用户","description":"更新指定用户的信息","operationId":"updateUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftUserDetails"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftUserDetails"}}}}}},"delete":{"tags":["用户管理"],"summary":"删除用户","description":"删除指定的用户","operationId":"deleteUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/user/{userId}/unlock":{"put":{"tags":["用户管理"],"summary":"解锁用户","description":"解锁指定的用户账户","operationId":"unlockUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/user/{userId}/password":{"put":{"tags":["用户管理"],"summary":"修改密码","description":"修改指定用户的密码","operationId":"changePassword","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"string","description":"新密码"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftUserDetails"}}}}}}},"/user/{userId}/lock":{"put":{"tags":["用户管理"],"summary":"锁定用户","description":"锁定指定的用户账户","operationId":"lockUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/user/{userId}/enable":{"put":{"tags":["用户管理"],"summary":"启用用户","description":"启用指定的用户账户","operationId":"enableUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/user/{userId}/disable":{"put":{"tags":["用户管理"],"summary":"禁用用户","description":"禁用指定的用户账户","operationId":"disableUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/roles/{roleId}":{"get":{"tags":["角色管理"],"summary":"获取角色详情","description":"根据ID获取角色的详细信息","operationId":"getRoleById","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftRole"}}}}}},"put":{"tags":["角色管理"],"summary":"更新角色","description":"更新指定角色的信息","operationId":"updateRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftRole"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftRole"}}}}}},"delete":{"tags":["角色管理"],"summary":"删除角色","description":"删除指定的角色（不能删除已分配用户的角色）","operationId":"deleteRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/authorities/{authorityId}":{"get":{"tags":["权限管理"],"summary":"获取权限详情","description":"根据ID获取权限的详细信息","operationId":"getAuthorityById","parameters":[{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftAuthority"}}}}}},"put":{"tags":["权限管理"],"summary":"更新权限","description":"更新指定权限的信息","operationId":"updateAuthority","parameters":[{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftAuthority"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftAuthority"}}}}}},"delete":{"tags":["权限管理"],"summary":"删除权限","description":"删除指定的权限（不能删除已分配给角色的权限）","operationId":"deleteAuthority","parameters":[{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/api/config":{"put":{"tags":["系统配置管理"],"summary":"更新配置","description":"更新配置","operationId":"updateConfig","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SysConfig"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSysConfig"}}}}}},"post":{"tags":["系统配置管理"],"summary":"保存配置","description":"保存新配置","operationId":"saveConfig","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SysConfig"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSysConfig"}}}}}}},"/api/config/value/{configKey}":{"get":{"tags":["系统配置管理"],"summary":"获取配置值","description":"根据配置键获取配置值","operationId":"getConfigValue","parameters":[{"name":"configKey","in":"path","description":"配置键","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}},"put":{"tags":["系统配置管理"],"summary":"更新配置值","description":"根据配置键更新配置值","operationId":"updateConfigValue","parameters":[{"name":"configKey","in":"path","description":"配置键","required":true,"schema":{"type":"string"}},{"name":"configValue","in":"query","description":"配置值","required":true,"schema":{"type":"string"}},{"name":"updatedBy","in":"query","description":"更新人","required":false,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultBoolean"}}}}}}},"/api/config/toggle/{configId}":{"put":{"tags":["系统配置管理"],"summary":"切换配置状态","description":"启用或禁用配置","operationId":"toggleConfig","parameters":[{"name":"configId","in":"path","description":"配置ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"enabled","in":"query","description":"是否启用","required":true,"schema":{"type":"boolean"}},{"name":"updatedBy","in":"query","description":"更新人","required":false,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultBoolean"}}}}}}},"/api/ai/sessions/{sessionId}":{"get":{"tags":["AI-会话"],"summary":"获取会话详情","description":"根据会话ID获取会话详细信息","operationId":"getSessionById","parameters":[{"name":"sessionId","in":"path","description":"会话ID","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/SessionDTO"}}}}}},"put":{"tags":["AI-会话"],"summary":"更新会话","description":"更新指定会话的标题","operationId":"updateSession","parameters":[{"name":"sessionId","in":"path","description":"会话 ID","required":true,"schema":{"type":"string"},"example":1723456789012345678},{"name":"title","in":"query","description":"会话标题","required":true,"schema":{"type":"string"},"example":"新标题"}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}},"delete":{"tags":["AI-会话"],"summary":"删除会话","description":"删除指定会话及其所有消息","operationId":"deleteSession","parameters":[{"name":"sessionId","in":"path","description":"会话ID","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"删除成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/api/ai/providers/{id}":{"get":{"tags":["AI-供应商"],"summary":"获取供应商详情","description":"根据ID获取供应商详细信息","operationId":"getProviderById","parameters":[{"name":"id","in":"path","description":"供应商ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ProviderDTO"}}}}}},"put":{"tags":["AI-供应商"],"summary":"更新供应商","description":"更新指定 ID 的供应商信息","operationId":"updateProvider","parameters":[{"name":"id","in":"path","description":"供应商 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AiProvider"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AiProvider"}}}}}},"delete":{"tags":["AI-供应商"],"summary":"删除供应商","description":"删除指定ID的供应商","operationId":"deleteProvider","parameters":[{"name":"id","in":"path","description":"供应商ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"删除成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/api/ai/models/{id}":{"get":{"tags":["AI-模型"],"summary":"获取模型详情","description":"根据ID获取模型详细信息","operationId":"getModelById","parameters":[{"name":"id","in":"path","description":"模型ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ModelDTO"}}}}}},"put":{"tags":["AI-模型"],"summary":"更新模型","description":"更新指定 ID 的模型信息","operationId":"updateModel","parameters":[{"name":"id","in":"path","description":"模型 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AiModel"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"更新成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AiModel"}}}}}},"delete":{"tags":["AI-模型"],"summary":"删除模型","description":"删除指定ID的模型","operationId":"deleteModel","parameters":[{"name":"id","in":"path","description":"模型ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"删除成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/user":{"post":{"tags":["用户管理"],"summary":"创建用户","description":"创建新的系统用户","operationId":"createUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftUserDetails"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftUserDetails"}}}}}}},"/user/{userId}/roles/{roleId}":{"post":{"tags":["用户管理"],"summary":"分配角色","description":"将指定角色分配给用户","operationId":"assignRoleToUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}},"delete":{"tags":["用户管理"],"summary":"收回角色","description":"从用户中收回指定的角色","operationId":"removeRoleFromUser","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/roles":{"get":{"tags":["角色管理"],"summary":"获取所有角色","description":"获取系统中所有的角色列表","operationId":"getAllRoles","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSwiftRole"}}}}}},"post":{"tags":["角色管理"],"summary":"创建角色","description":"创建新的系统角色","operationId":"createRole","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftRole"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftRole"}}}}}}},"/roles/{roleId}/authorities/{authorityId}":{"post":{"tags":["角色管理"],"summary":"授予权限","description":"将指定权限授予给角色","operationId":"grantAuthorityToRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}},"delete":{"tags":["角色管理"],"summary":"收回权限","description":"从角色中收回指定的权限","operationId":"revokeAuthorityFromRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultVoid"}}}}}}},"/authorities":{"get":{"tags":["权限管理"],"summary":"获取所有权限","description":"获取系统中所有的权限列表","operationId":"getAllAuthorities","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSwiftAuthority"}}}}}},"post":{"tags":["权限管理"],"summary":"创建权限","description":"创建新的系统权限","operationId":"createAuthority","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SwiftAuthority"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftAuthority"}}}}}}},"/authorities/batch":{"post":{"tags":["权限管理"],"summary":"批量获取权限","description":"根据权限名列表批量获取权限信息","operationId":"getAuthoritiesByNames","requestBody":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"string"}}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSwiftAuthority"}}}}}}},"/auth/register":{"post":{"tags":["鉴权管理"],"summary":"用户注册","description":"注册新用户","operationId":"registerUser","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RegisterRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftUserDetails"}}}}}}},"/auth/logout":{"post":{"tags":["鉴权管理"],"summary":"用户登出","description":"用户退出登录，使token失效","operationId":"logout","parameters":[{"name":"Authorization","in":"header","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}}},"/auth/login":{"post":{"tags":["鉴权管理"],"summary":"用户登录","description":"通过用户名和密码获取 JWT Token","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LoginRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultJwtToken"}}}}}}},"/auth/forgot-password/send-code":{"post":{"tags":["鉴权管理"],"summary":"发送忘记密码验证码","description":"向邮箱发送密码重置验证码","operationId":"sendForgotPasswordCode","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ForgotPasswordRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}}},"/auth/forgot-password/reset":{"post":{"tags":["鉴权管理"],"summary":"重置密码","description":"使用验证码重置密码","operationId":"resetPassword","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ResetPasswordRequest"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}}},"/api/config/refresh":{"post":{"tags":["系统配置管理"],"summary":"刷新配置缓存","description":"从数据库重新加载配置到Redis缓存","operationId":"refreshConfigCache","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}}},"/api/ai/sessions":{"get":{"tags":["AI-会话"],"summary":"获取用户的会话列表","description":"分页获取指定用户的所有会话","operationId":"getSessionsByUserId","parameters":[{"name":"userId","in":"query","description":"用户 ID","required":true,"schema":{"type":"string"},"example":"user123"},{"name":"page","in":"query","description":"页码","required":false,"schema":{"type":"integer","format":"int32","default":1},"example":1},{"name":"size","in":"query","description":"每页大小","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultIPageSessionDTO"}}}}}},"post":{"tags":["AI-会话"],"summary":"创建会话","description":"创建一个新的 AI 聊天会话","operationId":"createSession","parameters":[{"name":"userId","in":"query","description":"用户 ID","required":true,"schema":{"type":"string"},"example":"user123"},{"name":"modelId","in":"query","description":"模型 ID","required":true,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"title","in":"query","description":"会话标题","required":false,"schema":{"type":"string"},"example":"新会话"}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"创建成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AiChatSession"}}}}}}},"/api/ai/providers":{"get":{"tags":["AI-供应商"],"summary":"获取供应商列表","description":"分页获取供应商列表，支持按启用状态筛选","operationId":"getProviders","parameters":[{"name":"page","in":"query","description":"页码","required":false,"schema":{"type":"integer","format":"int32","default":1},"example":1},{"name":"size","in":"query","description":"每页大小","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10},{"name":"enabled","in":"query","description":"是否启用","required":false,"schema":{"type":"boolean"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultIPageProviderDTO"}}}}}},"post":{"tags":["AI-供应商"],"summary":"创建供应商","description":"创建一个新的 AI 供应商配置","operationId":"createProvider","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AiProvider"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"创建成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AiProvider"}}}}}}},"/api/ai/providers/{id}/test":{"post":{"tags":["AI-供应商"],"summary":"测试供应商连接","description":"测试指定供应商的API连接是否正常","operationId":"testConnection","parameters":[{"name":"id","in":"path","description":"供应商ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"测试完成","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TestResultDTO"}}}}}}},"/api/ai/models":{"get":{"tags":["AI-模型"],"summary":"获取模型列表","description":"分页获取模型列表，支持按供应商 ID 和启用状态筛选","operationId":"getModels","parameters":[{"name":"page","in":"query","description":"页码","required":false,"schema":{"type":"integer","format":"int32","default":1},"example":1},{"name":"size","in":"query","description":"每页大小","required":false,"schema":{"type":"integer","format":"int32","default":10},"example":10},{"name":"providerId","in":"query","description":"供应商 ID","required":false,"schema":{"type":"integer","format":"int64"},"example":1},{"name":"enabled","in":"query","description":"是否启用","required":false,"schema":{"type":"boolean"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultIPageModelDTO"}}}}}},"post":{"tags":["AI-模型"],"summary":"创建模型","description":"创建一个新的 AI 模型配置","operationId":"createModel","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AiModel"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"创建成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/AiModel"}}}}}}},"/api/ai/models/{id}/test":{"post":{"tags":["AI-模型"],"summary":"测试模型连接","description":"测试指定模型的API连接是否正常","operationId":"testModel","parameters":[{"name":"id","in":"path","description":"模型ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"测试完成","content":{"*/*":{"schema":{"$ref":"#/components/schemas/TestResultDTO"}}}}}}},"/api/ai/chat":{"post":{"tags":["AI-聊天"],"summary":"发送聊天消息","description":"向 AI 模型发送消息并获取回复，支持新会话和已有会话。如果是新会话，会自动创建一个默认会话。","operationId":"chat","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequestDTO"}}},"required":true},"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"发送成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ChatResponseDTO"}}}}}}},"/user/{userId}/roles":{"get":{"tags":["用户管理"],"summary":"获取用户角色","description":"获取指定用户拥有的所有角色","operationId":"getUserRoles","parameters":[{"name":"userId","in":"path","description":"用户ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSetSwiftRole"}}}}}}},"/user/info":{"get":{"tags":["用户管理"],"summary":"获取当前用户信息","description":"获取当前登录用户的详细信息","operationId":"getUserInfo","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/user/all":{"get":{"tags":["用户管理"],"summary":"获取所有用户","description":"获取系统中所有的用户列表","operationId":"getAllUsers","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSwiftUserDetails"}}}}}}},"/roles/{roleId}/users":{"get":{"tags":["角色管理"],"summary":"获取角色用户","description":"获取拥有指定角色的所有用户","operationId":"getUsersWithRole","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSetSwiftUserDetails"}}}}}}},"/roles/{roleId}/authorities":{"get":{"tags":["角色管理"],"summary":"获取角色权限","description":"获取指定角色拥有的所有权限","operationId":"getRoleAuthorities","parameters":[{"name":"roleId","in":"path","description":"角色ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSetSwiftAuthority"}}}}}}},"/monitor/thread":{"get":{"tags":["系统监控"],"summary":"线程信息","description":"获取线程相关信息","operationId":"getThreadDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/runtime":{"get":{"tags":["系统监控"],"summary":"运行时信息","description":"获取应用运行时信息","operationId":"getRuntimeDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/overview":{"get":{"tags":["系统监控"],"summary":"系统概览","description":"获取系统整体概览信息","operationId":"getSystemOverview","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/os":{"get":{"tags":["系统监控"],"summary":"操作系统信息","description":"获取操作系统详细信息","operationId":"getOsDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/memory":{"get":{"tags":["系统监控"],"summary":"内存详情","description":"获取系统内存使用详情","operationId":"getMemoryDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/jvm":{"get":{"tags":["系统监控"],"summary":"JVM详情","description":"获取JVM运行时详细信息","operationId":"getJvmDetails","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/monitor/all":{"get":{"tags":["系统监控"],"summary":"全部监控数据","description":"获取所有监控数据的聚合接口","operationId":"getAllMonitorData","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringObject"}}}}}}},"/authorities/{authorityId}/roles":{"get":{"tags":["权限管理"],"summary":"获取权限角色","description":"获取拥有指定权限的所有角色","operationId":"getRolesWithAuthority","parameters":[{"name":"authorityId","in":"path","description":"权限ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSetSwiftRole"}}}}}}},"/authorities/name/{name}":{"get":{"tags":["权限管理"],"summary":"根据权限名获取权限","description":"根据权限名获取权限信息","operationId":"getAuthorityByName","parameters":[{"name":"name","in":"path","description":"权限名","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSwiftAuthority"}}}}}}},"/auth/publicKey":{"get":{"tags":["鉴权管理"],"summary":"获取RSA公钥","description":"获取用于前端加密密码的RSA公钥","operationId":"getPublicKey","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultString"}}}}}}},"/api/config/{configKey}":{"get":{"tags":["系统配置管理"],"summary":"获取配置","description":"根据配置键获取配置对象","operationId":"getConfig","parameters":[{"name":"configKey","in":"path","description":"配置键","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSysConfig"}}}}}}},"/api/config/type/{configType}":{"get":{"tags":["系统配置管理"],"summary":"按类型获取配置","description":"根据配置类型获取配置列表","operationId":"getConfigsByType","parameters":[{"name":"configType","in":"path","description":"配置类型","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSysConfig"}}}}}}},"/api/config/map/{configType}":{"get":{"tags":["系统配置管理"],"summary":"按类型获取配置Map","description":"根据配置类型获取配置键值对Map","operationId":"getConfigMapByType","parameters":[{"name":"configType","in":"path","description":"配置类型","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringString"}}}}}}},"/api/config/map/enabled":{"get":{"tags":["系统配置管理"],"summary":"获取启用的配置Map","description":"获取所有启用的配置键值对Map","operationId":"getAllEnabledConfigMap","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultMapStringString"}}}}}}},"/api/config/id/{configId}":{"get":{"tags":["系统配置管理"],"summary":"根据ID获取配置","description":"根据配置ID获取配置对象","operationId":"getConfigById","parameters":[{"name":"configId","in":"path","description":"配置ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultSysConfig"}}}}}}},"/api/config/exists/{configKey}":{"get":{"tags":["系统配置管理"],"summary":"检查配置键是否存在","description":"检查配置键是否存在","operationId":"existsConfigKey","parameters":[{"name":"configKey","in":"path","description":"配置键","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultBoolean"}}}}}}},"/api/config/enabled":{"get":{"tags":["系统配置管理"],"summary":"获取启用的配置","description":"获取所有启用的配置","operationId":"getAllEnabledConfigs","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSysConfig"}}}}}}},"/api/config/all":{"get":{"tags":["系统配置管理"],"summary":"获取所有配置","description":"获取所有配置","operationId":"getAllConfigs","responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListSysConfig"}}}}}}},"/api/ai/messages":{"get":{"tags":["AI-消息"],"summary":"获取会话的所有消息","description":"获取指定会话的所有聊天消息，按时间顺序返回","operationId":"getMessagesBySessionId","parameters":[{"name":"sessionId","in":"query","description":"会话 ID","required":true,"schema":{"type":"string"},"example":1723456789012345678}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListMessageDTO"}}}}}}},"/api/ai/chat/history":{"get":{"tags":["AI-聊天"],"summary":"获取聊天历史","description":"获取指定会话的所有聊天消息历史","operationId":"getChatHistory","parameters":[{"name":"sessionId","in":"query","description":"会话ID","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"获取成功","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultListChatResponseDTO"}}}}}}},"/api/config/{configId}":{"delete":{"tags":["系统配置管理"],"summary":"删除配置","description":"根据配置ID删除配置","operationId":"deleteConfig","parameters":[{"name":"configId","in":"path","description":"配置ID","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultBoolean"}}}}}}},"/api/config/key/{configKey}":{"delete":{"tags":["系统配置管理"],"summary":"根据键删除配置","description":"根据配置键删除配置","operationId":"deleteConfigByKey","parameters":[{"name":"configKey","in":"path","description":"配置键","required":true,"schema":{"type":"string"}}],"responses":{"500":{"description":"Internal Server Error","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultObject"}}}},"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/PubResultBoolean"}}}}}}}},"components":{"schemas":{"PubResultObject":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"SwiftAuthority":{"type":"object","properties":{"authorityId":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"}}},"SwiftRole":{"type":"object","properties":{"roleId":{"type":"integer","format":"int64"},"name":{"type":"string"},"description":{"type":"string"},"roleAuthorities":{"type":"array","items":{"$ref":"#/components/schemas/SwiftRoleAuthority"},"uniqueItems":true}}},"SwiftRoleAuthority":{"type":"object","properties":{"id":{"$ref":"#/components/schemas/SwiftRoleAuthorityId"},"role":{"$ref":"#/components/schemas/SwiftRole"},"authority":{"$ref":"#/components/schemas/SwiftAuthority"},"grantedAt":{"type":"string","format":"date-time"}}},"SwiftRoleAuthorityId":{"type":"object","properties":{"roleId":{"type":"integer","format":"int64"},"authorityId":{"type":"integer","format":"int64"}}},"SwiftUserDetails":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"username":{"type":"string","maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$"},"fullName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string","pattern":"^1[3-9]\\d{9}$"},"enabled":{"type":"boolean"},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"},"failedLoginAttempts":{"type":"integer","format":"int32"},"lockUntil":{"type":"string","format":"date-time"},"passwordChangedAt":{"type":"string","format":"date-time"},"lastLoginAt":{"type":"string","format":"date-time"},"lastLoginIp":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"userRoles":{"type":"array","items":{"$ref":"#/components/schemas/SwiftUserRole"},"uniqueItems":true},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}}},"required":["email","username"]},"SwiftUserRole":{"type":"object","properties":{"userId":{"$ref":"#/components/schemas/SwiftUserRoleId"},"user":{"$ref":"#/components/schemas/SwiftUserDetails"},"role":{"$ref":"#/components/schemas/SwiftRole"},"assignedAt":{"type":"string","format":"date-time"},"assignedBy":{"type":"string"}}},"SwiftUserRoleId":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"roleId":{"type":"integer","format":"int64"}}},"PubResultSwiftUserDetails":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SwiftUserDetails"}}},"PubResultVoid":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"object"}}},"PubResultSwiftRole":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SwiftRole"}}},"PubResultSwiftAuthority":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SwiftAuthority"}}},"SysConfig":{"type":"object","properties":{"configId":{"type":"integer","format":"int64"},"configKey":{"type":"string"},"configValue":{"type":"string"},"configType":{"type":"string"},"description":{"type":"string"},"isEnabled":{"type":"boolean"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"createdBy":{"type":"string"},"updatedBy":{"type":"string"}}},"PubResultSysConfig":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/SysConfig"}}},"PubResultBoolean":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"boolean"}}},"AiProvider":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"providerCode":{"type":"string"},"providerName":{"type":"string"},"baseUrl":{"type":"string"},"apiKey":{"type":"string"},"enabled":{"type":"boolean"},"priority":{"type":"integer","format":"int32"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"AiModel":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"modelCode":{"type":"string"},"modelName":{"type":"string"},"providerId":{"type":"integer","format":"int64"},"enabled":{"type":"boolean"},"maxTokens":{"type":"integer","format":"int32"},"contextLength":{"type":"integer","format":"int32"},"description":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"providerName":{"type":"string"}}},"PubResultListSwiftAuthority":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftAuthority"}}}},"RegisterRequest":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$"},"password":{"type":"string","maxLength":30,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&#_+])[A-Za-z\\d@$!%*?&#_+]+$"},"email":{"type":"string"},"phone":{"type":"string","pattern":"^1[3-9]\\d{9}$"}},"required":["email","password","username"]},"PubResultString":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"string"}}},"LoginRequest":{"type":"object","properties":{"username":{"type":"string","maxLength":20,"minLength":4,"pattern":"^[a-zA-Z0-9_]+$"},"password":{"type":"string","maxLength":30,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&])[A-Za-z\\d@$!%*?&]+$"}},"required":["password","username"]},"JwtToken":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"PubResultJwtToken":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/JwtToken"}}},"ForgotPasswordRequest":{"type":"object","properties":{"email":{"type":"string"}},"required":["email"]},"ResetPasswordRequest":{"type":"object","properties":{"email":{"type":"string"},"verificationCode":{"type":"string"},"newPassword":{"type":"string","maxLength":30,"minLength":8,"pattern":"^(?=.*[a-z])(?=.*[A-Z])(?=.*\\d)(?=.*[@$!%*?&#_+])[A-Za-z\\d@$!%*?&#_+]+$"}},"required":["email","newPassword","verificationCode"]},"AiChatSession":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"sessionId":{"type":"string"},"userId":{"type":"string"},"title":{"type":"string"},"modelId":{"type":"integer","format":"int64"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"},"modelName":{"type":"string"}}},"TestResultDTO":{"type":"object","properties":{"success":{"type":"boolean"},"message":{"type":"string"},"latency":{"type":"integer","format":"int64"}}},"ChatRequestDTO":{"type":"object","description":"聊天请求DTO","properties":{"sessionId":{"type":"string","description":"会话ID（可选，不传则创建新会话）","example":1723456789012345678},"modelId":{"type":"integer","format":"int64","description":"模型ID","example":1},"message":{"type":"string","description":"消息内容","example":"你好，请问你是谁？"},"stream":{"type":"boolean","default":"false","description":"是否流式返回"}},"required":["message","modelId"]},"ChatResponseDTO":{"type":"object","description":"聊天响应DTO","properties":{"sessionId":{"type":"string","description":"会话ID","example":1723456789012345678},"messageId":{"type":"integer","format":"int64","description":"消息ID","example":1},"role":{"type":"string","description":"角色","example":"assistant"},"content":{"type":"string","description":"消息内容","example":"你好！我是AI助手。"},"tokensUsed":{"type":"integer","format":"int32","description":"使用的token数","example":10},"createdAt":{"type":"string","format":"date-time","description":"创建时间"}}},"PubResultSetSwiftRole":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftRole"},"uniqueItems":true}}},"PubResultMapStringObject":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"object","additionalProperties":{}}}},"PubResultListSwiftUserDetails":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftUserDetails"}}}},"PubResultListSwiftRole":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftRole"}}}},"PubResultSetSwiftUserDetails":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftUserDetails"},"uniqueItems":true}}},"PubResultSetSwiftAuthority":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SwiftAuthority"},"uniqueItems":true}}},"PubResultListSysConfig":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/SysConfig"}}}},"PubResultMapStringString":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"object","additionalProperties":{"type":"string"}}}},"IPageSessionDTO":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/SessionDTO"}},"current":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"PubResultIPageSessionDTO":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/IPageSessionDTO"}}},"SessionDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"sessionId":{"type":"string"},"userId":{"type":"string"},"title":{"type":"string"},"modelId":{"type":"integer","format":"int64"},"modelName":{"type":"string"},"createdAt":{"type":"string","format":"date-time"},"updatedAt":{"type":"string","format":"date-time"}}},"IPageProviderDTO":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/ProviderDTO"}},"current":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"ProviderDTO":{"type":"object","description":"AI供应商信息DTO","properties":{"id":{"type":"integer","format":"int64","description":"主键ID","example":1},"providerCode":{"type":"string","description":"供应商代码","example":"openai"},"providerName":{"type":"string","description":"供应商名称","example":"OpenAI"},"baseUrl":{"type":"string","description":"API基础URL","example":"https://api.openai.com/v1"},"enabled":{"type":"boolean","description":"是否启用"},"priority":{"type":"integer","format":"int32","description":"优先级","example":1},"description":{"type":"string","description":"描述","example":"OpenAI 官方供应商"},"healthy":{"type":"boolean","description":"健康状态"},"createdAt":{"type":"string","format":"date-time","description":"创建时间"}}},"PubResultIPageProviderDTO":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/IPageProviderDTO"}}},"IPageModelDTO":{"type":"object","properties":{"size":{"type":"integer","format":"int64"},"records":{"type":"array","items":{"$ref":"#/components/schemas/ModelDTO"}},"current":{"type":"integer","format":"int64"},"total":{"type":"integer","format":"int64"},"pages":{"type":"integer","format":"int64","deprecated":true}}},"ModelDTO":{"type":"object","description":"AI模型信息DTO","properties":{"id":{"type":"integer","format":"int64","description":"主键ID","example":1},"modelCode":{"type":"string","description":"模型代码","example":"gpt-3.5-turbo"},"modelName":{"type":"string","description":"模型名称","example":"GPT-3.5 Turbo"},"providerId":{"type":"integer","format":"int64","description":"供应商ID","example":1},"providerName":{"type":"string","description":"供应商名称","example":"OpenAI"},"enabled":{"type":"boolean","description":"是否启用"},"maxTokens":{"type":"integer","format":"int32","description":"最大token数","example":4096},"contextLength":{"type":"integer","format":"int32","description":"上下文长度","example":16384},"description":{"type":"string","description":"描述","example":"OpenAI 经典的 3.5 模型"},"createdAt":{"type":"string","format":"date-time","description":"创建时间"}}},"PubResultIPageModelDTO":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"$ref":"#/components/schemas/IPageModelDTO"}}},"MessageDTO":{"type":"object","description":"AI聊天消息DTO","properties":{"id":{"type":"integer","format":"int64","description":"主键ID","example":1},"sessionId":{"type":"string","description":"会话ID","example":1723456789012345678},"role":{"type":"string","description":"角色（user/assistant/system）","example":"user"},"content":{"type":"string","description":"消息内容","example":"你好"},"tokensUsed":{"type":"integer","format":"int32","description":"使用的token数","example":5},"createdAt":{"type":"string","format":"date-time","description":"创建时间"}}},"PubResultListMessageDTO":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/MessageDTO"}}}},"PubResultListChatResponseDTO":{"type":"object","properties":{"code":{"type":"string"},"msg":{"type":"string"},"data":{"type":"array","items":{"$ref":"#/components/schemas/ChatResponseDTO"}}}}},"securitySchemes":{"JWT":{"type":"http","name":"Authorization","in":"header","scheme":"bearer","bearerFormat":"JWT"}}}}