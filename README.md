# SwiftFrame

<div align="center">

![SwiftFrame Logo](https://img.shields.io/badge/SwiftFrame-1.0-blue)
![Java](https://img.shields.io/badge/Java-21-orange)
![Spring Boot](https://img.shields.io/badge/Spring%20Boot-3.5.1-green)

ä¸€ä¸ªç°ä»£åŒ–çš„ä¼ä¸šçº§Javaå¼€å‘æ¡†æ¶ï¼ŒåŸºäºSpring Bootæ„å»ºï¼Œæä¾›æ¨¡å—åŒ–ã€å¯æ‰©å±•çš„è§£å†³æ–¹æ¡ˆ

[ç‰¹æ€§](#ç‰¹æ€§) â€¢ [å¿«é€Ÿå¼€å§‹](#å¿«é€Ÿå¼€å§‹) â€¢ [æ¨¡å—ä»‹ç»](#æ¨¡å—ä»‹ç») â€¢ [æ–‡æ¡£](#æ–‡æ¡£)

</div>

---

## ğŸ“– ç®€ä»‹

SwiftFrameæ˜¯ä¸€ä¸ªè½»é‡çº§ä½†åŠŸèƒ½å¼ºå¤§çš„ä¼ä¸šçº§å¼€å‘æ¡†æ¶ï¼Œé‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ç†å¿µï¼Œå°†å¸¸ç”¨åŠŸèƒ½å°è£…ä¸ºç‹¬ç«‹æ¨¡å—ï¼Œå¼€å‘è€…å¯ä»¥æ ¹æ®éœ€æ±‚çµæ´»ç»„åˆä½¿ç”¨ã€‚æ¡†æ¶é›†æˆäº†è®¤è¯æˆæƒã€æ•°æ®è®¿é—®ã€ç¼“å­˜ã€ç›‘æ§ã€AIç­‰ä¼ä¸šåº”ç”¨æ‰€éœ€çš„æ ¸å¿ƒèƒ½åŠ›ï¼Œå¸®åŠ©å¼€å‘è€…å¿«é€Ÿæ„å»ºé«˜è´¨é‡çš„åº”ç”¨ç¨‹åºã€‚

## âœ¨ ç‰¹æ€§

- ğŸ§© **æ¨¡å—åŒ–è®¾è®¡** - å„åŠŸèƒ½æ¨¡å—ç‹¬ç«‹ï¼ŒæŒ‰éœ€å¼•å…¥ï¼Œé™ä½é¡¹ç›®å¤æ‚åº¦
- ğŸ” **å®Œå–„çš„å®‰å…¨ä½“ç³»** - åŸºäºJWTå’ŒRBACçš„è®¤è¯æˆæƒæœºåˆ¶
- ğŸ¤– **AIèƒ½åŠ›é›†æˆ** - æ”¯æŒå¤šç§AIæä¾›å•†ï¼ˆOpenAIã€Anthropicã€Ollamaç­‰ï¼‰
- ğŸ“Š **ç›‘æ§ä¸å¥åº·æ£€æŸ¥** - é›†æˆActuatorï¼Œæä¾›å…¨é¢çš„ç³»ç»Ÿç›‘æ§
- ğŸ”’ **é…ç½®åŠ å¯†** - æ”¯æŒæ•æ„Ÿé…ç½®åŠ å¯†å­˜å‚¨
- ğŸ“§ **é‚®ä»¶æœåŠ¡** - ç»Ÿä¸€çš„é‚®ä»¶å‘é€æ¥å£
- ğŸ’¾ **å¤šæ•°æ®æºæ”¯æŒ** - æ”¯æŒMySQLã€PostgreSQLç­‰ä¸»æµæ•°æ®åº“
- ğŸš€ **å¼€ç®±å³ç”¨** - æä¾›å®Œæ•´çš„é…ç½®å’Œåˆå§‹åŒ–è„šæœ¬
- ğŸ“ **å®Œå–„çš„æ–‡æ¡£** - è¯¦ç»†çš„ä½¿ç”¨æ–‡æ¡£å’Œç¤ºä¾‹ä»£ç 

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | è¯´æ˜ |
|------|------|------|
| Java | 21 | ç¼–ç¨‹è¯­è¨€ |
| Spring Boot | 3.5.1 | åº”ç”¨æ¡†æ¶ |
| MyBatis Plus | 3.5.12 | ORMæ¡†æ¶ |
| MySQL | 9.3.0 | å…³ç³»å‹æ•°æ®åº“ |
| PostgreSQL | 12+ | å…³ç³»å‹æ•°æ®åº“ |
| Druid | 1.2.23 | æ•°æ®åº“è¿æ¥æ±  |
| Redis | - | ç¼“å­˜å’Œä¼šè¯å­˜å‚¨ |
| Spring Security | 6.5.0 | å®‰å…¨æ¡†æ¶ |
| JJWT | 0.12.6 | JWTä»¤ç‰Œå¤„ç† |
| Jasypt | 3.0.5 | é…ç½®åŠ å¯† |
| Actuator | 3.5.0 | åº”ç”¨ç›‘æ§ |
| SpringDoc | 2.8.1 | APIæ–‡æ¡£ |

## ğŸ“¦ æ¨¡å—ä»‹ç»

### æ ¸å¿ƒæ¨¡å—

#### swift-common
å…¬å…±æ¨¡å—ï¼Œæä¾›é€šç”¨åŠŸèƒ½å’Œå·¥å…·ç±»
- ç»Ÿä¸€å“åº”ç»“æœå°è£…ï¼ˆ`PubResult`ã€`PageResult`ï¼‰
- å…¨å±€å¼‚å¸¸å¤„ç†ï¼ˆ`GlobalExceptionHandler`ï¼‰
- ä¸šåŠ¡å¼‚å¸¸å®šä¹‰ï¼ˆ`BusinessException`ï¼‰
- é›ªèŠ±IDç”Ÿæˆå™¨ï¼ˆ`SnowflakeIdGenerator`ï¼‰
- OpenAPIé…ç½®

#### swift-security
å®‰å…¨è®¤è¯æ¨¡å—ï¼ŒåŸºäºSpring Securityå’ŒJWT
- JWTä»¤ç‰Œç”Ÿæˆå’ŒéªŒè¯
- ç”¨æˆ·è®¤è¯å’Œæˆæƒ
- åŸºäºRBACçš„æƒé™æ§åˆ¶
- è´¦æˆ·å®‰å…¨ç­–ç•¥ï¼ˆå¯†ç åŠ å¯†ã€è´¦æˆ·é”å®šç­‰ï¼‰
- ç”¨æˆ·ç¼“å­˜ç®¡ç†
- æä¾›å®Œæ•´çš„ç”¨æˆ·ã€è§’è‰²ã€æƒé™å®ä½“å’Œæ¥å£

#### swift-datasource
æ•°æ®æºæ¨¡å—ï¼Œæä¾›æ•°æ®åº“è®¿é—®èƒ½åŠ›
- å¤šæ•°æ®æºæ”¯æŒ
- MyBatis Plusé›†æˆ
- SQLæ˜ å°„æ–‡ä»¶ç®¡ç†
- æ•°æ®åº“è¿æ¥æ± é…ç½®

#### swift-redis
Redisç¼“å­˜æ¨¡å—
- Redisè‡ªåŠ¨é…ç½®
- ç¼“å­˜æ“ä½œå·¥å…·
- åˆ†å¸ƒå¼é”æ”¯æŒ

#### swift-encrypt
åŠ å¯†æ¨¡å—ï¼Œæä¾›æ•°æ®åŠ å¯†èƒ½åŠ›
- AESåŠ å¯†
- RSAåŠ å¯†
- è‡ªå®šä¹‰åŠ å¯†ç®—æ³•æ‰©å±•

#### swift-config
é…ç½®ç®¡ç†æ¨¡å—
- ç»Ÿä¸€é…ç½®ç®¡ç†
- é…ç½®çƒ­åŠ è½½
- é…ç½®éªŒè¯

#### swift-monitor
ç›‘æ§æ¨¡å—
- åº”ç”¨æ€§èƒ½ç›‘æ§
- ç³»ç»Ÿå¥åº·æ£€æŸ¥
- PrometheusæŒ‡æ ‡å¯¼å‡º
- æ—¥å¿—ç®¡ç†

#### swift-ai
AIé›†æˆæ¨¡å—ï¼Œæ”¯æŒå¤šç§AIæä¾›å•†
- ç»Ÿä¸€çš„AIæœåŠ¡æ¥å£
- æ”¯æŒOpenAIã€Anthropicã€Ollamaç­‰
- æµå¼å¯¹è¯æ”¯æŒ
- å·¥å…·è°ƒç”¨èƒ½åŠ›
- æä¾›å•†æ³¨å†Œå’Œç®¡ç†æœºåˆ¶

#### swift-login
ç™»å½•æ¨¡å—
- ç»Ÿä¸€ç™»å½•æ¥å£
- å¤šç§ç™»å½•æ–¹å¼æ”¯æŒ
- ç™»å½•çŠ¶æ€ç®¡ç†

#### swift-mail
é‚®ä»¶æœåŠ¡æ¨¡å—
- ç»Ÿä¸€é‚®ä»¶å‘é€æ¥å£
- æ”¯æŒSMTPåè®®
- é‚®ä»¶æ¨¡æ¿æ”¯æŒ

#### swift-business
ä¸šåŠ¡æ¨¡å—
- æä¾›ä¸šåŠ¡å®ä½“å’ŒæœåŠ¡
- ä¸šåŠ¡é€»è¾‘å°è£…

#### swift-start
å¯åŠ¨æ¨¡å—ï¼Œåº”ç”¨å…¥å£
- åº”ç”¨ä¸»ç±»
- é…ç½®æ–‡ä»¶
- æ—¥å¿—é…ç½®
- æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬

## ğŸš€ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- JDK 21+
- Maven 3.8+
- MySQL 8.0+ æˆ– PostgreSQL 12+
- Redis 6.0+ï¼ˆå¯é€‰ï¼‰

### æ„å»ºé¡¹ç›®

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/SHOOTING-STAR-C/SwiftFrame.git
cd SwiftFrame

# ç¼–è¯‘æ‰“åŒ…
mvn clean package -DskipTests

# æŒ‡å®šç¯å¢ƒæ‰“åŒ…
mvn clean package -P dev -DskipTests
```

### ç¯å¢ƒé…ç½®

é¡¹ç›®æ”¯æŒå¤šç¯å¢ƒé…ç½®ï¼Œé€šè¿‡Maven Profileåˆ‡æ¢ï¼š

```bash
# å¼€å‘ç¯å¢ƒï¼ˆé»˜è®¤ï¼‰
mvn spring-boot:run -P dev

# æµ‹è¯•ç¯å¢ƒ
mvn spring-boot:run -P test

# ç”Ÿäº§ç¯å¢ƒ
mvn spring-boot:run -P prod
```

**é…ç½®æ–‡ä»¶è¯´æ˜**ï¼š

ä¸ºäº†ä¿æŠ¤æ•æ„Ÿä¿¡æ¯ï¼Œé¡¹ç›®ä½¿ç”¨ç¯å¢ƒå˜é‡é…ç½®æ–¹å¼ï¼š

1. **å¤åˆ¶é…ç½®æ¨¡æ¿**ï¼š
   ```bash
   cp swift-start/src/main/resources/application.yml.example swift-start/src/main/resources/application-dev.yml
   cp swift-start/src/main/resources/application.yml.example swift-start/src/main/resources/application-prod.yml
   cp swift-start/src/main/resources/application.yml.example swift-start/src/main/resources/application-test.yml
   ```

2. **é…ç½®ç¯å¢ƒå˜é‡**ï¼š
   - æ–¹å¼ä¸€ï¼šåœ¨é…ç½®æ–‡ä»¶ä¸­ç›´æ¥æ›¿æ¢å ä½ç¬¦ï¼ˆä¸æ¨èç”¨äºç”Ÿäº§ç¯å¢ƒï¼‰
   - æ–¹å¼äºŒï¼šè®¾ç½®ç³»ç»Ÿç¯å¢ƒå˜é‡ï¼ˆæ¨èï¼‰
   - æ–¹å¼ä¸‰ï¼šä½¿ç”¨ `.env` æ–‡ä»¶ï¼ˆéœ€è¦é…ç½®åŠ è½½ï¼‰

3. **ç¯å¢ƒå˜é‡åˆ—è¡¨**ï¼š

   | å˜é‡å | è¯´æ˜ | é»˜è®¤å€¼ | ç¤ºä¾‹ |
   |--------|------|--------|------|
   | `DB_HOST` | MySQLæ•°æ®åº“åœ°å€ | localhost | 127.0.0.1 |
   | `DB_USERNAME` | MySQLç”¨æˆ·å | root | swift_user |
   | `DB_PASSWORD` | MySQLå¯†ç  | - | your_password |
   | `PG_HOST` | PostgreSQLæ•°æ®åº“åœ°å€ | localhost | 127.0.0.1 |
   | `PG_USERNAME` | PostgreSQLç”¨æˆ·å | postgres | postgres |
   | `PG_PASSWORD` | PostgreSQLå¯†ç  | - | your_password |
   | `REDIS_HOST` | Redisåœ°å€ | localhost | 127.0.0.1 |
   | `REDIS_PORT` | Redisç«¯å£ | 6379 | 6379 |
   | `REDIS_PASSWORD` | Rediså¯†ç  | - | your_password |
   | `MAIL_HOST` | é‚®ä»¶æœåŠ¡å™¨åœ°å€ | smtp.example.com | smtp.gmail.com |
   | `MAIL_PORT` | é‚®ä»¶æœåŠ¡å™¨ç«¯å£ | 587 | 587 |
   | `MAIL_USERNAME` | é‚®ä»¶ç”¨æˆ·å | your_email@example.com | your_email@gmail.com |
   | `MAIL_PASSWORD` | é‚®ä»¶å¯†ç  | - | your_app_password |
   | `JWT_SECRET` | JWTå¯†é’¥ | - | your_secret_key_change_this |
   | `AES_KEY` | AESåŠ å¯†å¯†é’¥ | - | your_256_bit_key |
   | `RSA_PUBLIC_KEY` | RSAå…¬é’¥ | - | MIIBIjANBgk... |
   | `RSA_PRIVATE_KEY` | RSAç§é’¥ | - | MIIEvQIBADANBgk... |

**å®‰å…¨æç¤º**ï¼š
- âš ï¸ ä¸è¦å°†åŒ…å«çœŸå®å¯†ç çš„é…ç½®æ–‡ä»¶æäº¤åˆ°Gitä»“åº“
- âš ï¸ ç”Ÿäº§ç¯å¢ƒå¿…é¡»ä½¿ç”¨å¼ºå¯†ç å’Œå¯†é’¥
- âš ï¸ å»ºè®®ä½¿ç”¨å¯†é’¥ç®¡ç†æœåŠ¡ï¼ˆå¦‚AWS Secrets Managerã€HashiCorp Vaultï¼‰
- âœ… é¡¹ç›®å·²å°†æ•æ„Ÿé…ç½®æ–‡ä»¶æ·»åŠ åˆ° `.gitignore`

### æ•°æ®åº“åˆå§‹åŒ–

é¡¹ç›®å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“åˆå§‹åŒ–ï¼ŒåŒ…æ‹¬è¡¨ç»“æ„åˆ›å»ºå’Œåˆå§‹æ•°æ®å¯¼å…¥ï¼Œæ— éœ€æ‰‹åŠ¨æ‰§è¡ŒSQLè„šæœ¬ã€‚

**æ³¨æ„**ï¼šé¦–æ¬¡å¯åŠ¨å‰è¯·ç¡®ä¿æ•°æ®åº“å·²åˆ›å»ºå¹¶é…ç½®å¥½è¿æ¥ä¿¡æ¯ã€‚

### å¯åŠ¨åº”ç”¨

```bash
# ä½¿ç”¨Mavenå¯åŠ¨
mvn spring-boot:run -pl swift-start

# æˆ–ä½¿ç”¨jaråŒ…å¯åŠ¨
java -jar swift-start/target/swift-start-1.0.jar
```

### è®¿é—®åº”ç”¨

- åº”ç”¨åœ°å€: http://localhost:8081/swift
- APIæ–‡æ¡£: http://localhost:8081/swift/swagger-ui.html
- å¥åº·æ£€æŸ¥: http://localhost:8081/swift/actuator/health
- PrometheusæŒ‡æ ‡: http://localhost:8081/swift/actuator/prometheus

## ğŸ“– ä½¿ç”¨ç¤ºä¾‹

### 1. ä½¿ç”¨AIæ¨¡å—

```java
@Service
@RequiredArgsConstructor
public class ChatService {
    
    private final ProviderClient providerClient;
    
    public String chat(String message) {
        Conversation conversation = new Conversation();
        MessageChain msg = new MessageChain();
        msg.setRole("user");
        msg.setContent(message);
        conversation.setMessages(List.of(msg));
        
        LLMResponse response = providerClient.chat(providerId, conversation);
        return response.getContent();
    }
}
```

### 2. ä½¿ç”¨å®‰å…¨æ¨¡å—

```java
@RestController
@RequestMapping("/api")
public class DemoController {
    
    @GetMapping("/admin/data")
    @PreAuthorize("hasRole('ADMIN')")
    public PubResult<String> getAdminData() {
        return PubResult.success("Admin data");
    }
    
    @GetMapping("/user/profile")
    public PubResult<String> getUserProfile() {
        String username = SecurityUtils.getCurrentUsername();
        return PubResult.success("User: " + username);
    }
}
```

### 3. ä½¿ç”¨é‚®ä»¶æ¨¡å—

```java
@Service
@RequiredArgsConstructor
public class NotificationService {
    
    private final MailService mailService;
    
    public void sendWelcomeEmail(String to, String username) {
        MailMessage message = new MailMessage();
        message.setTo(to);
        message.setSubject("Welcome to SwiftFrame");
        message.setText("Hello " + username + ", welcome!");
        
        mailService.sendMail(message);
    }
}
```

## ğŸ”§ é…ç½®è¯´æ˜

### åº”ç”¨é…ç½®ï¼ˆapplication.ymlï¼‰

```yaml
app:
  name: SWIFT
server:
  port: 8081
  servlet:
    context-path: /swift

spring:
  profiles:
    active: @app.env@
```

### åŠ å¯†é…ç½®

ä½¿ç”¨JasyptåŠ å¯†æ•æ„Ÿé…ç½®ï¼š

**åœ¨é…ç½®æ–‡ä»¶ä¸­ä½¿ç”¨åŠ å¯†å€¼**ï¼š
```yaml
spring:
  datasource:
    password: ENC(åŠ å¯†åçš„å­—ç¬¦ä¸²)
```

## ğŸ“Š ç›‘æ§æŒ‡æ ‡

æ¡†æ¶é›†æˆäº†Actuatorï¼Œæä¾›ä»¥ä¸‹ç›‘æ§ç«¯ç‚¹ï¼š

- `/actuator/health` - å¥åº·æ£€æŸ¥
- `/actuator/metrics` - åº”ç”¨æŒ‡æ ‡
- `/actuator/prometheus` - Prometheusæ ¼å¼æŒ‡æ ‡
- `/actuator/env` - ç¯å¢ƒä¿¡æ¯
- `/actuator/loggers` - æ—¥å¿—é…ç½®
- `/actuator/threaddump` - çº¿ç¨‹è½¬å‚¨
- `/actuator/heapdump` - å †è½¬å‚¨

## ğŸ³ Dockeréƒ¨ç½²

### ä½¿ç”¨Docker Compose

```bash
# å¯åŠ¨æ•°æ®åº“å’ŒRedis
docker-compose up -d

# æ„å»ºå¹¶å¯åŠ¨åº”ç”¨
docker build -t swiftframe:latest .
docker run -p 8081:8081 swiftframe:latest
```

## ğŸ¤ è´¡çŒ®

æ¬¢è¿è´¡çŒ®ä»£ç ã€æŠ¥å‘Šé—®é¢˜æˆ–æå‡ºå»ºè®®ï¼

1. Forkæœ¬ä»“åº“
2. åˆ›å»ºç‰¹æ€§åˆ†æ”¯ (`git checkout -b feature/AmazingFeature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add some AmazingFeature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/AmazingFeature`)
5. å¼€å¯Pull Request

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) è®¸å¯è¯

## ğŸ‘¨â€ğŸ’» ä½œè€…

**SHOOTING_STAR_C**

- GitHub: [SHOOTING-STAR-C](https://github.com/SHOOTING-STAR-C)
- é¡¹ç›®é“¾æ¥: [https://github.com/SHOOTING-STAR-C/SwiftFrame](https://github.com/SHOOTING-STAR-C/SwiftFrame)

## ğŸ™ è‡´è°¢

æ„Ÿè°¢æ‰€æœ‰ä¸ºæœ¬é¡¹ç›®åšå‡ºè´¡çŒ®çš„å¼€å‘è€…ï¼

---

<div align="center">

å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™å®ƒä¸€ä¸ªâ­ï¸

Made with â¤ï¸ by SHOOTING-STAR-C

</div>
